<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let obj = {
        a:10,
        c: 30
    };
    convert(obj);
    obj.a = 15;
    let b = obj.a;
    obj.a = 30;
    // 实现一个函数，可以监控到对象属性的变化
    function convert(obj) {
        Object.keys(obj).forEach(key => {
            let internalValue = obj[key]
            Object.defineProperty(obj, key, {
                get() {
                    console.log(`getting key "${key}": ${internalValue}`)
                    return internalValue
                },
                set(newVal) {
					console.log(`setting key "${key}" to: ${internalValue}`)
                    internalValue = newVal
                }
            })
        })
    }
// setting key "a" to: 10
// setting key "c" to: 30
// getting key "c": 100 
// getting key "a": 15 
// setting key "a" to: 15
</script>

</body>
</html>